"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)};function t(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(e);u<n.length;u++)r.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(e,n[u])&&(t[n[u]]=e[n[u]])}return t}function n(e,r,t,n){return new(t||(t=Promise))((function(u,c){function i(e){try{o(n.next(e))}catch(e){c(e)}}function a(e){try{o(n.throw(e))}catch(e){c(e)}}function o(e){var r;e.done?u(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,a)}o((n=n.apply(e,r||[])).next())}))}function u(e,r){var t,n,u,c,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(u=2&c[0]?n.return:c[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,c[1])).done)return u;switch(n=0,u&&(c=[2&c[0],u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(6===c[0]&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(e,i)}catch(e){c=[6,e],n=0}finally{t=u=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function c(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,u,c=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=c.next()).done;)i.push(n.value)}catch(e){u={error:e}}finally{try{n&&!n.done&&(t=c.return)&&t.call(c)}finally{if(u)throw u.error}}return i}function a(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(i(arguments[r]));return e}var o=function(e){return e instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",h="onSubmit",m="all",y="max",p="min",b="maxLength",g="minLength",R="pattern",x="required",O="validate";var w=function(e){return null==e},k=function(e){return Array.isArray(e)},S=function(e){return"object"==typeof e},C=function(e){return!w(e)&&!k(e)&&S(e)},V=function(e){return!k(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},E=function(e){var r=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,t,n,u){r.push(n?u.replace(/\\(\\)?/g,"$1"):t||e)})),r};function F(e,r,t){for(var n=-1,u=V(r)?[r]:E(r),c=u.length,i=c-1;++n<c;){var a=u[n],o=t;if(n!==i){var s=e[a];o=C(s)||k(s)?s:isNaN(+u[n+1])?{}:[]}e[a]=o,e=e[a]}return e}var j=function(e){return Object.entries(e).reduce((function(e,t){var n,u=i(t,2),c=u[0],a=u[1];return V(c)?r(r({},e),((n={})[c]=a,n)):(F(e,c,a),e)}),{})},D=function(e){return void 0===e},B=function(e){return e.filter(Boolean)},A=function(e,r,t){var n=B(r.split(/[,[\].]+?/)).reduce((function(e,r){return w(e)?e:e[r]}),e);return D(n)||n===e?D(e[r])?t:e[r]:n},W=function(e,r){o(e)&&e.removeEventListener&&(e.removeEventListener(f,r),e.removeEventListener(l,r),e.removeEventListener(s,r))},L={isValid:!1,value:""},N=function(e){return k(e)?e.reduce((function(e,r){return r&&r.ref.checked?{isValid:!0,value:r.ref.value}:e}),L):L},P=function(e){return"radio"===e.type},M=function(e){return"file"===e.type},H=function(e){return"checkbox"===e.type},T=function(e){return"select-multiple"===e.type},I=function(e){return""===e},q={value:!1,isValid:!1},z={value:!0,isValid:!0},$=function(e){if(k(e)){if(e.length>1){var r=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:r,isValid:!!r.length}}var t=e[0].ref,n=t.checked,u=t.value,c=t.attributes;return n?c&&!D(c.value)?D(u)||I(u)?z:{value:u,isValid:!0}:z:q}return q};function _(e,r){if(e[r]){var t=e[r],n=t.ref.value,u=t.ref;return M(u)?u.files:P(u)?t?N(t.options).value:"":T(u)?a(u.options).filter((function(e){return e.selected})).map((function(e){return e.value})):H(u)?!!t&&$(t.options).value:n}}function U(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&U(e.parentNode)}var G=function(e){return C(e)&&!Object.keys(e).length};function J(e,r){var t=V(r)?[r]:E(r),n=1==t.length?e:function(e,r){for(var t=r.slice(0,-1).length,n=0;n<t;)e=D(e)?n++:e[r[n++]];return n==t?e:void 0}(e,t),u=t[t.length-1],c=void 0;n&&delete n[u];for(var i=0;i<t.slice(0,-1).length;i++){var a=-1,o=void 0,s=t.slice(0,-(i+1)),l=s.length-1;for(i>0&&(c=e);++a<s.length;){var f=s[a];o=o?o[f]:e[f],l===a&&(C(o)&&G(o)||k(o)&&!o.filter((function(e){return C(e)&&!G(e)})).length)&&(c?delete c[f]:delete e[f]),c=o}}return e}var K=function(e,r){return e&&e.ref===r};var Q=function(e){return"string"==typeof e},X=function(e,r){var t={},n=function(n){(D(r)||(Q(r)?n.startsWith(r):k(r)&&r.find((function(e){return n.startsWith(e)}))))&&(t[n]=_(e,n))};for(var u in e)n(u);return t},Y=function(e,r){var t=r.type,n=r.types,u=r.message;return C(e)&&e.type===t&&e.message===u&&function(e,r){void 0===e&&(e={}),void 0===r&&(r={});var t=Object.keys(e);return t.length===Object.keys(r).length&&t.every((function(t){return r[t]&&r[t]===e[t]}))}(e.types,n)};var Z=function(e){return e instanceof RegExp},ee=function(e){return C(r=e)&&!Z(r)?e:{value:e,message:""};var r},re=function(e){return"function"==typeof e},te=function(e){return"boolean"==typeof e},ne=function(r){return Q(r)||C(r)&&e.isValidElement(r)};function ue(e,r,t){if(void 0===t&&(t="validate"),ne(e)||te(e)&&!e)return{type:t,message:ne(e)?e:"",ref:r}}var ce=function(e,t,n,u,c){var i;if(t){var a=n[e];return r(r({},a),{types:r(r({},a&&a.types?a.types:{}),(i={},i[u]=c||!0,i))})}return{}},ie=function(e,t,a){var o=a.ref,s=a.ref,l=s.type,f=s.value,d=a.options,v=a.required,h=a.maxLength,m=a.minLength,k=a.min,S=a.max,V=a.pattern,E=a.validate;return n(void 0,void 0,void 0,(function(){var n,a,s,F,j,D,B,A,W,L,M,T,q,z,U,J,K,X,Y,ie,ae,oe,se,le,fe,de,ve,he,me,ye,pe,be,ge,Re,xe,Oe,we,ke,Se,Ce,Ve,Ee,Fe,je,De,Be,Ae;return u(this,(function(u){switch(u.label){case 0:return n=e.current,a=o.name,s={},F=P(o),j=H(o),D=F||j,B=I(f),A=ce.bind(null,a,t,s),W=function(e,t,n,u,c){void 0===u&&(u=b),void 0===c&&(c=g);var i=e?t:n;s[a]=r({type:e?u:c,message:i,ref:o},A(e?u:c,i))},v&&(!F&&!j&&(B||w(f))||te(f)&&!f||j&&!$(d).isValid||F&&!N(d).isValid)&&(L=ne(v)?{value:!!v,message:v}:ee(v),M=L.value,T=L.message,M&&(s[a]=r({type:x,message:T,ref:D?null===(Ae=n[a].options)||void 0===Ae?void 0:Ae[0].ref:o},A(x,T)),!t))?[2,s]:(w(k)&&w(S)||(he=void 0,me=void 0,q=ee(S),z=q.value,U=q.message,J=ee(k),K=J.value,X=J.message,"number"===l||!l&&!isNaN(f)?(Y=o.valueAsNumber||parseFloat(f),w(z)||(he=Y>z),w(K)||(me=Y<K)):(ie=o.valueAsDate||new Date(f),Q(z)&&(he=ie>new Date(z)),Q(K)&&(me=ie<new Date(K))),!he&&!me||(W(!!he,U,X,y,p),t)))&&(!Q(f)||B||!h&&!m||(ae=ee(h),oe=ae.value,se=ae.message,le=ee(m),fe=le.value,de=le.message,ve=f.toString().length,he=!w(oe)&&ve>oe,me=!w(fe)&&ve<fe,!he&&!me||(W(!!he,se,de),t)))&&(!V||B||(ye=ee(V),pe=ye.value,be=ye.message,!Z(pe)||pe.test(f)||(s[a]=r({type:R,message:be,ref:o},A(R,be)),t)))?E?(ge=_(n,a),Re=D&&d?d[0].ref:o,re(E)?[4,E(ge)]:[3,2]):[3,11]:[2,s];case 1:return xe=u.sent(),(Fe=ue(xe,Re))&&(s[a]=r(r({},Fe),A(O,Fe.message)),!t)?[2,s]:[3,11];case 2:if(!C(E))return[3,11];Oe={},u.label=3;case 3:u.trys.push([3,8,9,10]),we=c(Object.entries(E)),ke=we.next(),u.label=4;case 4:return ke.done?[3,7]:(Se=i(ke.value,2),Ce=Se[0],Ve=Se[1],G(Oe)||t?[4,Ve(ge)]:[3,7]);case 5:Ee=u.sent(),(Fe=ue(Ee,Re,Ce))&&(Oe=r(r({},Fe),A(Ce,Fe.message)),t&&(s[a]=Oe)),u.label=6;case 6:return ke=we.next(),[3,4];case 7:return[3,10];case 8:return je=u.sent(),De={error:je},[3,10];case 9:try{ke&&!ke.done&&(Be=we.return)&&Be.call(we)}finally{if(De)throw De.error}return[7];case 10:if(!G(Oe)&&(s[a]=r({ref:Re},Oe),!t))return[2,s];u.label=11;case 11:return[2,s]}}))}))},ae=function(e){return w(e)||!S(e)},oe=function(e,r){var t=function(r,t,n){var u=n?e+"."+t:e+"["+t+"]";return ae(r)?u:oe(u,r)};return k(r)?r.map((function(e,r){return t(e,r)})):Object.entries(r).map((function(e){var r=i(e,2),n=r[0],u=r[1];return t(u,n,!0)}))},se=function(e,r,t,n,u){var c;return t.add(r),G(e)?c=void 0:D(e[r])?(c=A(j(e),r),D(c)||function(e,r){return oe(e,r).flat(1/0)}(r,c).forEach((function(e){return t.add(e)}))):c=e[r],D(c)?u?n:A(n,r):c},le=function(e){var r=e.isOnChange,t=e.hasError,n=e.isBlurEvent,u=e.isOnSubmit,c=e.isReValidateOnSubmit,i=e.isOnBlur,a=e.isReValidateOnBlur,o=e.isSubmitted;return r&&n||u&&c||u&&!o||i&&!n&&!t||a&&!n&&t||c&&o},fe=function(e){return e.substring(0,e.indexOf("["))},de=function(e,r){var t=j(X(e));return r?A(t,r,t):t};function ve(e,r){if(!k(e)||!k(r)||e.length!==r.length)return!0;for(var t=0;t<e.length;t++){var n=e[t],u=r[t];if(D(u)||Object.keys(n).length!==Object.keys(u).length)return!0;for(var c in n)if(n[c]!==u[c])return!0}return!1}var he=function(e,r){return RegExp(("^"+r+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},me=function(e,r){return a(e).some((function(e){return he(r,e)}))},ye=function(e){return"select-one"===e.type};var pe=function(e){return{isOnSubmit:!e||e===h,isOnBlur:e===d,isOnChange:e===v,isOnAll:e===m}},be=function(e){return P(e)||H(e)};var ge=e.createContext(null);ge.displayName="RHFContext";var Re=function(){return e.useContext(ge)},xe=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},Oe=function(e,t){var n;return r(((n={})[t]=xe(),n),C(e)?e:{value:e})},we=function(e,r){return(k(e)?e:[]).map((function(e){return Oe(e,r)}))};var ke=function(e,r){return D(r)?[]:k(r)?function(e,r){for(var t=-1;++t<e.length;)r.indexOf(t)>=0&&delete e[t];return B(e)}(e,r):function(e,r){return a(e.slice(0,r),e.slice(r+1))}(e,r)},Se=function(e,r,t){return k(e)?e.splice(t,0,e.splice(r,1)[0]):[]},Ce=function(e,r,t){var n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]};function Ve(e,r){return a(k(r)?r:[r||null],e)}function Ee(e,r,t){return a(e.slice(0,r),k(t)?t:[t||null],e.slice(r))}var Fe=function(e){return k(e)?Array(e.length).fill(null):null};function je(e){if(C(e)){var r={};for(var t in e)r[t]=!0;return[r]}return[!0]}var De=function(e){return k(e)?e.map(je).flat():je(e)};exports.Controller=function(n){var u,c=n.name,a=n.rules,o=n.as,s=n.render,l=n.defaultValue,f=n.control,d=n.onFocus,v=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),h=Re(),m=f||h.control,y=m.defaultValuesRef,p=m.setValue,b=m.register,g=m.unregister,R=m.errorsRef,x=m.trigger,O=m.mode,w=O.isOnSubmit,k=O.isOnBlur,S=O.isOnChange,V=m.reValidateMode,E=V.isReValidateOnBlur,j=V.isReValidateOnSubmit,B=m.isSubmittedRef,W=m.touchedFieldsRef,L=m.readFormStateRef,N=m.reRender,P=m.fieldsRef,M=m.fieldArrayNamesRef,H=m.unmountFieldsStateRef,T=m.formState,I=!me(M.current,c),q=function(){return!D(H.current[c])&&I?H.current[c]:D(l)?A(y.current,c):l},z=i(e.useState(q()),2),$=z[0],_=z[1],U=e.useRef($),G=te($),J=e.useRef(d),K=B.current,Q=function(){return!le({hasError:!!A(R.current,c),isOnBlur:k,isOnSubmit:w,isOnChange:S,isReValidateOnBlur:E,isReValidateOnSubmit:j,isSubmitted:K})},X=function(e){var r=function(e,r){return ae(e)||!C(e.target)||C(e.target)&&!e.type?e:r||D(e.target.value)?e.target.checked:e.target.value}(e[0],G);return _(r),U.current=r,r},Y=e.useCallback((function(){P.current[c]?P.current[c]=r({ref:P.current[c].ref},a):b(Object.defineProperty({name:c,focus:J.current},"value",{set:function(e){_(e),U.current=e},get:function(){return U.current}}),a)}),[P,a,c,J,b]);e.useEffect((function(){return function(){!me(M.current,c)&&g(c)}}),[g,c,M]),e.useEffect((function(){Y()}),[Y]),e.useEffect((function(){P.current[c]||(Y(),I&&_(q()))}));var Z=function(){L.current.touched&&!A(W.current,c)&&(F(W.current,c,!0),N()),(k||T.isSubmitted&&E)&&x(c)},ee=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return p(c,X(e),{shouldValidate:Q(),shouldDirty:!0})},re=r(r(r({},v),{onChange:ee,onBlur:Z}),((u={})[G?"checked":"value"]=$,u));return o?e.isValidElement(o)?e.cloneElement(o,re):e.createElement(o,re):s?s({onChange:ee,onBlur:Z,value:$}):null},exports.FormContext=ge,exports.FormProvider=function(n){var u=n.children,c=t(n,["children"]);return e.createElement(ge.Provider,{value:r({},c)},u)},exports.appendErrors=ce,exports.get=A,exports.transformToNestObject=j,exports.useFieldArray=function(r){var t,n=r.control,u=r.name,o=r.keyName,s=void 0===o?"id":o,l=Re(),f=e.useRef(-1),d=n||l.control,v=d.isWatchAllRef,h=d.resetFieldArrayFunctionRef,m=d.fieldArrayNamesRef,y=d.reRender,p=d.fieldsRef,b=d.defaultValuesRef,g=d.removeFieldEventListener,R=d.errorsRef,x=d.dirtyFieldsRef,O=d.isDirtyRef,w=d.touchedFieldsRef,S=d.readFormStateRef,C=d.watchFieldsRef,E=d.validFieldsRef,F=d.fieldsWithValidationRef,j=d.fieldArrayDefaultValues,W=d.validateSchemaIsValid,L=d.renderWatchedInputs,N=function(){return a(A(j.current[fe(u)]?j.current:b.current,u,[]))},P=e.useRef(N()),M=i(e.useState(we(P.current,s)),2),H=M[0],T=M[1],I=i(e.useState(!1),2),q=I[0],z=I[1],$=e.useRef(H),_=V(u);$.current=H,_&&(j.current[u]=P.current);var U=function(e){return e.map((function(e){return Oe(e,s)}))},G=function(e){var r;T(e),S.current.isValid&&W&&W(((r={})[u]=e,r))},J=function(e){(S.current.dirtyFields||S.current.isDirty)&&(e=!0),L(u),e&&!v.current&&y()},K=function(e){for(var r in S.current.isDirty&&(O.current=D(e)||ve(e,A(b.current,u,[]))),p.current)he(r,u)&&p.current[r]&&g(p.current[r],!0)},Q=function(){K(),P.current=N(),T(we(P.current,s))};return e.useEffect((function(){var e,r;if(_&&q&&j.current[u]&&H.length<j.current[u].length&&j.current[u].pop(),v&&v.current)y();else if(C)try{for(var t=c(C.current),n=t.next();!n.done;n=t.next()){if(n.value.startsWith(u)){y();break}}}catch(r){e={error:r}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}if(f.current>-1)for(var i in p.current){var a=p.current[i];if(i.startsWith(u+"["+f.current+"]")&&a.ref.focus){a.ref.focus();break}}f.current=-1}),[H,u,j,q,_,y,p,C,v]),e.useEffect((function(){var e=h.current,r=m.current;return r.add(u),e[u]=Q,function(){K(),delete e[u],r.delete(u)}}),[]),{swap:e.useCallback((function(e,r){t=!1;var n=de(p.current,u);Ce(n,e,r),K(n),Ce($.current,e,r),G(a($.current)),k(A(R.current,u))&&Ce(A(R.current,u),e,r),S.current.touched&&w.current[u]&&(Ce(w.current[u],e,r),t=!0),(S.current.dirtyFields||S.current.isDirty)&&x.current[u]&&(Ce(x.current[u],e,r),t=!0),J(t)}),[u]),move:e.useCallback((function(e,r){t=!1;var n=de(p.current,u);Se(n,e,r),K(n),Se($.current,e,r),G(a($.current)),k(A(R.current,u))&&Se(A(R.current,u),e,r),S.current.touched&&w.current[u]&&(Se(w.current[u],e,r),t=!0),(S.current.dirtyFields||S.current.isDirty)&&x.current[u]&&(Se(x.current[u],e,r),t=!0),J(t)}),[u]),prepend:e.useCallback((function(e,r){void 0===r&&(r=!0);var n=Fe(e);t=!1,K(),G(Ve($.current,k(e)?U(e):[Oe(e,s)])),k(A(R.current,u))&&(R.current[u]=Ve(A(R.current,u),n)),S.current.touched&&w.current[u]&&(w.current[u]=Ve(w.current[u],n),t=!0),(S.current.dirtyFields||S.current.isDirty)&&x.current[u]&&(x.current[u]=Ve(x.current[u],De(e)),t=!0),J(t),f.current=r?0:-1}),[u]),append:e.useCallback((function(e,r){void 0===r&&(r=!0),t=!1,G(a($.current,k(e)?U(e):[Oe(e,s)])),S.current.dirtyFields&&(x.current[u]=a(x.current[u]||Fe(H.slice(0,1)),De(e)),O.current=!0,t=!0),f.current=r?$.current.length:-1,J(t)}),[u]),remove:e.useCallback((function(e){if(t=!1,K(ke(de(p.current,u),e)),G(ke($.current,e)),z(!0),k(A(R.current,u))&&(R.current[u]=ke(A(R.current,u),e),B(R.current[u]).length||delete R.current[u]),S.current.touched&&w.current[u]&&(w.current[u]=ke(w.current[u],e),t=!0),(S.current.dirtyFields||S.current.isDirty)&&x.current[u]&&(x.current[u]=ke(x.current[u],e),x.current[u].length||delete x.current[u],t=!0),S.current.isValid&&!W)for(var r=-1,n=!1,c=D(e);r++<H.length;){var i=r===H.length-1,a=(k(e)?e:[e]).indexOf(r)>=0;if((a||c)&&(n=!0),n)for(var o in H[r]){var s=u+"["+r+"]."+o;if(a||i||c)E.current.delete(s),F.current.delete(s);else{var l=u+"["+(r-1)+"]."+o;E.current.has(s)&&E.current.add(l),F.current.has(s)&&F.current.add(l)}}}J(t)}),[H,u]),insert:e.useCallback((function(e,r,n){void 0===n&&(n=!0),t=!1;var c=Fe(r);K(Ee(de(p.current,u),e)),G(Ee($.current,e,k(r)?U(r):[Oe(r,s)])),k(A(R.current,u))&&(R.current[u]=Ee(A(R.current,u),e,c)),S.current.touched&&w.current[u]&&(w.current[u]=Ee(w.current[u],e,c),t=!0),(S.current.dirtyFields||S.current.isDirty)&&x.current[u]&&(x.current[u]=Ee(x.current[u],e,De(r)),t=!0),J(t),f.current=n?e:-1}),[u]),fields:H}},exports.useForm=function(t){var d=this,y=void 0===t?{}:t,p=y.mode,b=void 0===p?h:p,g=y.reValidateMode,R=void 0===g?v:g,x=y.resolver,O=y.context,S=y.defaultValues,V=void 0===S?{}:S,E=y.shouldFocusError,L=void 0===E||E,N=y.shouldUnregister,I=void 0===N||N,q=y.criteriaMode,z=e.useRef({}),$=e.useRef({}),Z=e.useRef({}),ee=e.useRef({}),te=e.useRef(new Set),ne=e.useRef({}),ue=e.useRef({}),ce=e.useRef({}),oe=e.useRef(new Set),he=e.useRef(new Set),ge=e.useRef(!0),Re=e.useRef(V),xe=e.useRef({}),Oe=e.useRef(!1),we=e.useRef(!1),ke=e.useRef(!1),Se=e.useRef(!1),Ce=e.useRef(0),Ve=e.useRef(!1),Ee=e.useRef(),Fe=e.useRef({}),je=e.useRef({}),De=e.useRef(O),Be=e.useRef(x),Ae=e.useRef(new Set),We=i(e.useState(),2)[1],Le=e.useRef(pe(b)).current,Ne=Le.isOnBlur,Pe=Le.isOnSubmit,Me=Le.isOnChange,He=Le.isOnAll,Te=q===m,Ie="undefined"==typeof window,qe="undefined"!=typeof document&&!Ie&&!D(window.HTMLElement),ze=qe?"Proxy"in window:"undefined"!=typeof Proxy,$e=e.useRef({isDirty:!ze,dirtyFields:!ze,isSubmitted:Pe,submitCount:!ze,touched:!ze,isSubmitting:!ze,isValid:!ze}),_e=e.useRef(pe(R)).current,Ue=_e.isOnBlur,Ge=_e.isOnSubmit;De.current=O,Be.current=x;var Je=e.useCallback((function(){Oe.current||We({})}),[]),Ke=e.useCallback((function(e,r,t){void 0===t&&(t=!1);var n=t||function(e){var r=e.errors,t=e.name,n=e.error,u=e.validFields,c=e.fieldsWithValidation,i=G(n),a=G(r),o=A(n,t),s=A(r,t);return(!i||!u.has(t))&&(!!(a!==i||!a&&!s||i&&c.has(t)&&!u.has(t))||o&&!Y(s,o))}({errors:$.current,error:r,name:e,validFields:he.current,fieldsWithValidation:oe.current}),u=A($.current,e);if(G(r)?((oe.current.has(e)||Be.current)&&(he.current.add(e),n=n||u),$.current=J($.current,e)):(he.current.delete(e),n=n||!u||!Y(u,r[e]),F($.current,e,r[e])),n&&!w(t))return Je(),!0}),[Je,Be]),Qe=e.useCallback((function(e,r){var t=e.ref,n=e.options,u=qe&&o(t)&&w(r)?"":r;P(t)&&n?n.forEach((function(e){var r=e.ref;return r.checked=r.value===u})):M(t)?Q(u)?t.value=u:t.files=u:T(t)?a(t.options).forEach((function(e){return e.selected=u.includes(e.value)})):H(t)&&n?n.length>1?n.forEach((function(e){var r=e.ref;return r.checked=u.includes(r.value)})):n[0].ref.checked=!!u:t.value=u}),[qe]),Xe=e.useCallback((function(e){var r=$e.current,t=r.isDirty,n=r.dirtyFields;if(!z.current[e]||!t&&!n)return!1;var u=xe.current[e]!==_(z.current,e),c=A(ne.current,e),i=me(Ae.current,e),a=Se.current;return u?F(ne.current,e,!0):J(ne.current,e),Se.current=i&&ve(de(z.current,fe(e)),A(Re.current,fe(e)))||!G(ne.current),t&&a!==Se.current||n&&c!==A(ne.current,e)}),[]),Ye=e.useCallback((function(e,r){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return z.current[e]?[4,ie(z,Te,z.current[e])]:[3,2];case 1:return t=n.sent(),Ke(e,t,!!r&&null),[2,G(t)];case 2:return[2,!1]}}))}))}),[Ke,Te]),Ze=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,n,c,i;return u(this,(function(u){switch(u.label){case 0:return[4,Be.current(de(z.current),De.current,Te)];case 1:return r=u.sent().errors,t=ge.current,ge.current=G(r),k(e)?(n=e.map((function(e){var t=A(r,e);return t?F($.current,e,t):J($.current,e),!t})).every(Boolean),Je(),[2,n]):(c=A(r,e),Ke(e,c?((i={})[e]=c,i):{},t!==ge.current),[2,!c])}}))}))}),[Je,Ke,Te,Be]),er=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,c=this;return u(this,(function(i){switch(i.label){case 0:return r=e||Object.keys(z.current),Be.current?[2,Ze(r)]:k(r)?[4,Promise.all(r.map((function(e){return n(c,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,Ye(e,!0)];case 1:return[2,r.sent()]}}))}))})))]:[3,2];case 1:return t=i.sent(),Je(),[2,t.every(Boolean)];case 2:return[4,Ye(r)];case 3:return[2,i.sent()]}}))}))}),[Ze,Ye,Je,Be]),rr=e.useCallback((function(e,r,t,n){for(var u in r){var c=(n||e)+(k(r)?"["+u+"]":"."+u),i=z.current[c];C(r[u])&&rr(e,r[u],t,c),i&&(Qe(i,r[u]),t.shouldDirty&&Xe(c),t.shouldValidate&&er(c))}}),[er,Qe,Xe]),tr=e.useCallback((function(e,r,t){if(z.current[e])return Qe(z.current[e],r),t.shouldDirty&&Xe(e);ae(r)||rr(e,r,t)}),[Xe,Qe,rr]),nr=function(e){return we.current||te.current.has(e)||te.current.has((e.match(/\w+/)||[])[0])},ur=function(e,r){if(void 0===r&&(r=!0),!G(ue.current))for(var t in ue.current)(ue.current[t].has(e)||!ue.current[t].size||me(Ae.current,e))&&(ce.current[t](),r=!1);return r};Ee.current=Ee.current?Ee.current:function(e){var r=e.type,t=e.target;return n(d,void 0,void 0,(function(){var e,n,c,i,a,o,l,f,d;return u(this,(function(u){switch(u.label){case 0:return e=t?t.name:"",(n=z.current[e])?(i=r===s,a=!He&&le({hasError:!!A($.current,e),isOnChange:Me,isBlurEvent:i,isOnSubmit:Pe,isReValidateOnSubmit:Ge,isOnBlur:Ne,isReValidateOnBlur:Ue,isSubmitted:ke.current}),o=Xe(e)||nr(e),i&&!A(Z.current,e)&&$e.current.touched&&(F(Z.current,e,!0),o=!0),a?(ur(e),[2,o&&Je()]):x?[4,x(de(z.current),De.current,Te)]:[3,2]):[2];case 1:return l=u.sent().errors,f=ge.current,ge.current=G(l),c=A(l,e)?((d={})[e]=A(l,e),d):{},f!==ge.current&&(o=!0),[3,4];case 2:return[4,ie(z,Te,n)];case 3:c=u.sent(),u.label=4;case 4:return ur(e),!Ke(e,c)&&o&&Je(),[2]}}))}))};var cr=e.useCallback((function(e){void 0===e&&(e={});var t=G(Re.current)?X(z.current):Re.current;Be.current(j(r(r({},t),e)),De.current,Te).then((function(e){var r=e.errors,t=ge.current;ge.current=G(r),t!==ge.current&&Je()}))}),[Je,Te,Be]),ir=e.useCallback((function(e,r){!function(e,r,t,n,u,c){var i=t.ref,a=t.ref,o=a.name,s=a.type,l=t.mutationWatcher,f=e[o];if(!u){var d=_(e,o);D(d)||(n.current[o]=d)}if(s)if((P(i)||H(i))&&f){var v=f.options;k(v)&&v.length?(B(v).forEach((function(e,t){var n=e.ref,u=e.mutationWatcher;(n&&U(n)&&K(e,n)||c)&&(W(n,r),u&&u.disconnect(),J(v,"["+t+"]"))})),v&&!B(v).length&&delete e[o]):delete e[o]}else(U(i)&&K(f,i)||c)&&(W(i,r),l&&l.disconnect(),delete e[o]);else delete e[o]}(z.current,Ee.current,e,Fe,I,r)}),[I]),ar=e.useCallback((function(e,r){!e||me(Ae.current,e.ref.name)&&!r||(ir(e,r),I&&([$,Z,ne,xe].forEach((function(r){return J(r.current,e.ref.name)})),[oe,he,te].forEach((function(r){return r.current.delete(e.ref.name)})),($e.current.isValid||$e.current.touched)&&(Je(),Be.current&&cr())))}),[Je,cr,ir,Be]),or=e.useCallback((function(e,t,n){var u=n?ue.current[n]:te.current,c=D(t)?Re.current:t,i=X(z.current,e);return Q(e)?se(i,e,u,D(t)?A(c,e):t,!0):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=se(i,t,u,c),n))}),{}):(D(n)&&(we.current=!0),j(!G(i)&&i||c))}),[]);function sr(e,t){if(void 0===t&&(t={}),e.name){var n,u,c=e.name,i=e.type,d=e.value,v=r({ref:e},t),h=z.current,m=be(e),y=h[c],p=!0;if(y&&(m?k(y.options)&&B(y.options).find((function(r){return d===r.ref.value&&r.ref===e})):e===y.ref))h[c]=r(r({},y),t);else{if(i){var b=(g=e,R=function(){return ar(y)},(O=new MutationObserver((function(){U(g)&&(O.disconnect(),R())}))).observe(window.document,{childList:!0,subtree:!0}),O);y=m?r({options:a(B(y&&y.options||[]),[{ref:e,mutationWatcher:b}]),ref:{type:i,name:c}},t):r(r({},v),{mutationWatcher:b})}else y=v;var g,R,O;h[c]=y;var w=D(Fe.current[c]);G(Re.current)&&w||(u=w?A(Re.current,c):Fe.current[c],p=D(u),n=me(Ae.current,c),p||n||Qe(y,u)),x&&!n&&$e.current.isValid?cr():G(t)||(oe.current.add(c),!Pe&&$e.current.isValid&&ie(z,Te,y).then((function(e){var r=ge.current;G(e)?he.current.add(c):ge.current=!1,r!==ge.current&&Je()}))),xe.current[c]||n&&p||(xe.current[c]=p?_(h,c):u),i&&function(e){var r=e.field.ref,t=e.handleChange,n=e.isRadioOrCheckbox;o(r)&&t&&(r.addEventListener(n?l:f,t),r.addEventListener(s,t))}({field:m&&y.options?y.options[y.options.length-1]:y,isRadioOrCheckbox:m||ye(e),handleChange:Ee.current})}}}var lr=e.useCallback((function(e){return function(t){return n(d,void 0,void 0,(function(){var n,i,a,o,s,l,f,d,v,h,m,y,p;return u(this,(function(u){switch(u.label){case 0:t&&(t.preventDefault(),t.persist()),n={},i=r(r({},Fe.current),X(z.current)),$e.current.isSubmitting&&(Ve.current=!0,Je()),u.label=1;case 1:return u.trys.push([1,,14,15]),Be.current?[4,Be.current(j(i),De.current,Te)]:[3,3];case 2:return a=u.sent(),o=a.errors,s=a.values,$.current=o,n=o,i=s,[3,10];case 3:u.trys.push([3,8,9,10]),l=c(Object.values(z.current)),f=l.next(),u.label=4;case 4:return f.done?[3,7]:(d=f.value)?(v=d.ref.name,[4,ie(z,Te,d)]):[3,6];case 5:(h=u.sent())[v]?(F(n,v,h[v]),he.current.delete(v)):oe.current.has(v)&&he.current.add(v),u.label=6;case 6:return f=l.next(),[3,4];case 7:return[3,10];case 8:return m=u.sent(),y={error:m},[3,10];case 9:try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(y)throw y.error}return[7];case 10:return G(n)&&Object.keys($.current).every((function(e){return Object.keys(z.current).includes(e)}))?($.current={},Je(),[4,e(j(i),t)]):[3,12];case 11:return u.sent(),[3,13];case 12:$.current=r(r({},$.current),n),L&&qe&&function(e,r){for(var t in e)if(A(r,t)){var n=e[t];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}}(z.current,n),u.label=13;case 13:return[3,15];case 14:return ke.current=!0,Ve.current=!1,Ce.current=Ce.current+1,Je(),[7];case 15:return[2]}}))}))}}),[qe,Je,Be,L,Te]),fr=function(e){return _(z.current,e)};e.useEffect((function(){return Oe.current=!1,function(){Oe.current=!0,z.current&&Object.values(z.current).forEach((function(e){return ar(e,!0)}))}}),[ar]),x||(ge.current=he.current.size>=oe.current.size&&G($.current));var dr={dirtyFields:ne.current,isSubmitted:ke.current,submitCount:Ce.current,touched:Z.current,isDirty:Se.current,isSubmitting:Ve.current,isValid:Pe?ke.current&&G($.current):ge.current},vr={trigger:er,setValue:e.useCallback((function(e,r,t){void 0===t&&(t={});var n=tr(e,r,t)||!ae(r)||nr(e);ur(e),n&&Je(),t.shouldValidate&&er(e)}),[Je,tr,er]),getValues:e.useCallback((function(e){var t=z.current;return Q(e)?fr(e):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=fr(t),n))}),{}):j(X(t))}),[]),register:e.useCallback((function(e,r){if(!Ie)if(Q(e))sr({name:e},r);else{if(!C(e)||!("name"in e))return function(r){return r&&sr(r,e)};sr(e,r)}}),[Re.current]),unregister:e.useCallback((function(e){(k(e)?e:[e]).forEach((function(e){return ar(z.current[e],!0)}))}),[]),formState:ze?new Proxy(dr,{get:function(e,r){if(r in e)return $e.current[r]=!0,e[r]}}):dr},hr=r(r(r({removeFieldEventListener:ir,renderWatchedInputs:ur,watchInternal:or,reRender:Je},x?{validateSchemaIsValid:cr}:{}),{mode:{isOnBlur:Ne,isOnSubmit:Pe,isOnChange:Me},reValidateMode:{isReValidateOnBlur:Ue,isReValidateOnSubmit:Ge},errorsRef:$,touchedFieldsRef:Z,fieldsRef:z,isWatchAllRef:we,watchFieldsRef:te,resetFieldArrayFunctionRef:je,watchFieldsHookRef:ue,watchFieldsHookRenderRef:ce,fieldArrayDefaultValues:ee,validFieldsRef:he,dirtyFieldsRef:ne,fieldsWithValidationRef:oe,fieldArrayNamesRef:Ae,isDirtyRef:Se,isSubmittedRef:ke,readFormStateRef:$e,defaultValuesRef:Re,unmountFieldsStateRef:Fe}),vr);return r({watch:function(e,r){return or(e,r)},control:hr,handleSubmit:lr,reset:e.useCallback((function(e,r){var t,n;if(void 0===r&&(r={}),qe)try{for(var u=c(Object.values(z.current)),i=u.next();!i.done;i=u.next()){var a=i.value;if(a){var s=a.ref,l=a.options,f=be(s)&&k(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(e){}}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}e&&(Re.current=e),Object.values(je.current).forEach((function(e){return re(e)&&e()})),function(e){var r=e.errors,t=e.isDirty,n=e.isSubmitted,u=e.touched,c=e.isValid,i=e.submitCount,a=e.dirtyFields;z.current={},r||($.current={}),u||(Z.current={}),c||(he.current=new Set,oe.current=new Set,ge.current=!0),t||(Se.current=!1),a||(ne.current={}),n||(ke.current=!1),i||(Ce.current=0),xe.current={},ee.current={},Fe.current={},te.current=new Set,we.current=!1}(r),Je()}),[]),clearErrors:e.useCallback((function(e){e?(k(e)?e:[e]).forEach((function(e){return J($.current,e)})):$.current={},Je()}),[]),setError:e.useCallback((function(e,t){ge.current=!1,F($.current,e,r(r({},t),{ref:(z.current[e]||{}).ref})),Je()}),[]),errors:$.current},vr)},exports.useFormContext=Re,exports.useWatch=function(t){var n=t.control,u=t.name,c=t.defaultValue,a=Re(),o=n||a.control,s=o.watchFieldsHookRef,l=o.watchFieldsHookRenderRef,f=o.watchInternal,d=o.defaultValuesRef,v=i(e.useState(D(c)?Q(u)?A(d.current,u):k(u)?u.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=A(d.current,t),n))}),{}):d.current:c),2),h=v[0],m=v[1],y=e.useRef(),p=e.useRef(c),b=e.useRef(u),g=e.useCallback((function(){return m(f(b.current,p.current,y.current))}),[m,f,p,b,y]);return e.useEffect((function(){var e=y.current=xe(),r=l.current,t=s.current;return t[e]=new Set,r[e]=g,f(b.current,p.current,e),function(){delete t[e],delete r[e]}}),[b,g,l,s,f,p]),D(h)?c:h};
//# sourceMappingURL=index.ie11.production.min.js.map
